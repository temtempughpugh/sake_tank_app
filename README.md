日本酒タンク管理アプリ
日本酒製造現場のタンク管理のためのFlutterモバイルアプリケーションです。検尺値と容量の変換、割水計算などの機能を提供します。
主な機能
1. 検尺と容量の変換

検尺から容量の計算: タンク上部からの距離（検尺値）を入力して、対応する容量を計算
容量から検尺の計算: 目標容量を入力して、必要な検尺値を計算
近似値の計算: 正確に一致するデータがない場合は線形補間で近似値を提供

2. 割水計算機能

アルコール調整計算: 現在の容量とアルコール度数から、目標アルコール度数に調整するための割水量を計算
精度の高い近似値選択: 最終容量に対する近似値から選択可能で、実際のアルコール度数を再計算
計画の保存と管理: 割水計画を保存して、後で実行可能

3. 計画管理

計画中と完了済みの分類: タブで簡単に切り替え
タンク番号別のグループ化: 同じタンクの計画をまとめて表示
詳細情報の閲覧: 各計画の詳細情報を確認可能
計画の完了と削除: 計画を完了としてマークしたり、削除したりする機能

アプリケーション構造
コピーsake_tank_app/
├── assets/
│   └── tank_quick_reference.csv     # タンクの検尺-容量対応表
├── lib/
│   ├── main.dart                    # アプリケーションのエントリーポイント
│   ├── models/                      # データモデル
│   │   ├── dilution_plan.dart       # 割水計画モデル
│   │   ├── dilution_result.dart     # 割水計算結果モデル
│   │   ├── measurement_result.dart  # 検尺/容量計算結果モデル
│   │   └── tank_data.dart           # タンクデータモデル
│   ├── screens/                     # 画面UI
│   │   ├── home_screen.dart         # ホーム画面（メイン機能）
│   │   └── dilution_plans_screen.dart # 割水計画一覧画面
│   └── services/                    # ビジネスロジック
│       ├── csv_service.dart         # CSVデータ処理サービス
│       ├── dilution_service.dart    # 割水計算サービス
│       └── settings_service.dart    # アプリ設定管理サービス
技術的詳細
CSVデータ処理

タンクごとの検尺値と容量のデータを横長CSVから読み込み
3列ごとに（タンク番号、容量、検尺）のセットとして処理
線形補間で中間値を計算

割水計算ロジック

アルコール量（容量×度数）は保存されるという原理を利用
初期容量 × 初期アルコール度数 = 最終容量 × 最終アルコール度数
最終容量 = 初期容量 × (初期アルコール度数 / 最終アルコール度数)
追加水量 = 最終容量 - 初期容量

データ永続化

shared_preferencesを使用してアプリデータを保存
割水計画はJSON形式でエンコードして保存

インストールと使用方法

Flutterの開発環境を準備
依存パッケージをインストール: flutter pub get
CSV参照データを assets/tank_quick_reference.csv に配置
アプリを実行: flutter run

カスタマイズ

tank_quick_reference.csvを編集してタンクデータを更新可能
新しいタンクを追加する場合は3列ごとに（タンク番号、容量、検尺）のセットを追加
UIのカスタマイズはmain.dartのテーマ設定で可能

今後の開発予定

 ダークモード対応
 バックアップと復元機能
 リマインダー通知機能
 複数ユーザー対応